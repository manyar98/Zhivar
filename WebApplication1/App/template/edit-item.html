<div class="modal fade" id="editItemModal" tabindex="-1" role="dialog" aria-labelledby="editItemModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog ui-draggable" role="document">
        <div class="modal-content">
            <div class="modal-header modal-header-info ui-draggable-handle">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                <h4 class="modal-title ng-binding" id="editItemModalLabel">
                    افزودن آیتم جدید
                </h4>
            </div>
            <form class="ng-pristine ng-valid ng-valid-maxlength">
                <div class="modal-body">
                    <div class="container-fluid">
                        <!-- ngInclude: '/dashboard/widgets/alertBox.html?ver=1.2.9.1' -->
                        <!--<div class="alert alert-danger center-block text-right hesabfa-txt-10 ng-scope ng-hide" role="alert" style="max-width: 600px;" id="error" ng-show="alertBoxVisible">
                            <div class="row">
                                <div class="col-xs-1" style="margin-top: -2px;">
                                    <span class="fa fa-exclamation-circle fa-2x" aria-hidden="true"></span>
                                    <span class="sr-only">Error:</span>
                                </div>
                                <div class="col-xs-11" style="margin-top: 1px;">
                                    <strong class="ng-binding"></strong>
                                </div>
                            </div>
                        </div>-->
                      
                    </div>

                    <div class="row">
                       <div class="col-sm-3">
                            <div class="form-group">
                                <label for="code" class="title1">کد کالا / خدمات <span class="red">*</span></label>
                                <input display-numbers="" keyboard-filter="code" type="text" class="form-control input-sm ng-valid ng-valid-maxlength" id="itam-code" ng-model="item.DetailAccount.Code" maxlength="6" disabled="disabled">
                            </div>
                        </div>
                       <!--  <div ng-class="showItemUnit ? 'col-sm-6' : 'col-sm-9'" class="col-sm-9">
                            <div class="form-group">
                                <label for="code" class="title1">بارکد</label>
                                <input display-numbers="" type="text" class="form-control input-sm ng-valid ng-valid-maxlength" id="barcode" ng-model="item.Barcode" maxlength="48" select-on-click="">
                            </div>
                        </div>-->
                        <div class="col-sm-5">
                            <div class="form-group">
                                <label for="code" class="title1">واحد</label>

                                <div class="form-group form-inline">
                                    <div class="input-group">
                                        <input display-numbers="" type="text" class="form-control input-sm ng-valid ng-valid-maxlength" id="unit" ng-model="item.Unit.Name" maxlength="30" select-on-click="">
                                        <div class="input-group-btn">
                                            <button type="button" class="btn btn-sm btn-default btn-smoke dropdown-toggle" style="font-size: 12px;" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                <span class="caret"></span>
                                            </button>
                                            <ul class="dropdown-menu dropdown-menu-left" id="dropdownSearch">

                                                <li ng-repeat="itemUnit in itemUnits" class="ng-scope">
                                                    <a class="hand" ng-click="selectItemUnit(itemUnit)">
                                                        <span class="ng-binding">{{itemUnit.Name}}</span>
                                                        <span class="fa fa-remove pull-left" aria-hidden="true" ng-click="deleteItemUnit(itemUnit)"></span>
                                                    </a>
                                                </li>
                                           </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="form-group">
                                <label for="name" class="title1">نام کالا / خدمات <span class="red">*</span></label>
                                <input display-numbers="" type="text" class="form-control input-sm ng-valid ng-valid-maxlength" id="item-name" ng-model="item.Name" ng-blur="itemNameLeave()" maxlength="100">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="form-group">
                                <label for="name" class="title1">گروهبندی کالا / خدمات</label>
                         
                                <node-select filter="product" text="item.DetailAccount.Node.FamilyTree" bind="item.DetailAccount.Node" start="startNodeSelect" eid="productNode" class="ng-isolate-scope"></node-select>
                                <!--<node-select  start="startNodeSelect" eid="productNode" class="ng-isolate-scope"></node-select>-->
                            </div>
                        </div>
                    </div>
                    <div class="separator1"></div>
                    <div class="btn-group" role="group" aria-label="...">
                        <button type="button" class="btn btn-sm btn-primary" ng-class="item.ItemType == 0 ? 'btn-primary' : 'btn-default'" ng-click="item.ItemType = 0">کالا</button>
                        <button type="button" class="btn btn-default btn-sm" ng-class="item.ItemType == 1 ? 'btn-primary' : 'btn-default'" ng-click="item.ItemType = 1">خدمات</button>
                    </div>

                    <div class="separator1 mr-t-10" ng-show="item.ItemType == 0"></div>
                    <div class="row" ng-show="item.ItemType == 0">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label for="buyPrice" class="title1">قیمت خرید</label>
                                <input display-numbers="" decimal-point-zero="" keyboard-filter="integer" digit-group="" type="text" class="form-control input-sm ng-valid ng-valid-maxlength" ng-model="item.BuyPrice" maxlength="20">
                            </div>
                        </div>
                        <div class="col-sm-8">
                            <div class="form-group">
                                <label for="buyPrice" class="title1">عنوان در فاکتور خرید</label>
                                <input display-numbers="" type="text" class="form-control input-sm ng-valid ng-valid-maxlength" ng-model="item.PurchasesTitle" maxlength="100">
                            </div>
                        </div>
                    </div>
                    <div class="separator1"></div>
                    <div class="row">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label for="buyPrice" class="title1">قیمت فروش</label>
                                <input display-numbers="" decimal-point-zero="" keyboard-filter="integer" digit-group="" type="text" class="form-control input-sm ng-valid ng-valid-maxlength" ng-model="item.SellPrice" maxlength="20">
                            </div>
                        </div>
                        <div class="col-sm-8">
                            <div class="form-group">
                                <label for="buyPrice" class="title1">عنوان در فاکتور فروش</label>
                                <input display-numbers="" type="text" class="form-control input-sm ng-valid ng-valid-maxlength" ng-model="item.SalesTitle" maxlength="100">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-default btn-smoke" data-dismiss="modal" ng-show="!calling">انصراف</button>
                    <button type="submit" onclick="return false;" class="btn btn-success" ng-click="submitItem()" ng-show="!calling">
                        ثبت و ذخیره
                    </button>
                    <button type="button" onclick="return false;" class="btn btn-success ng-hide" ng-click="submitItem(true)" ng-show="!calling &amp;&amp; next">
                        ثبت و بعدی
                    </button>
                    <div ng-show="calling" class="text-center ng-hide"><span><img src="../../Content/img/ajax-loader4.gif"></span></div>
                </div>
            </form>
        </div>
    </div>
</div>
    
