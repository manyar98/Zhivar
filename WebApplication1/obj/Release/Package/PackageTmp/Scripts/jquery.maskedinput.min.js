/*
	Masked Input plugin for jQuery
	Copyright (c) 2007-2013 Josh Bush (digitalbush.com)
	Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)
	Version: 1.3.1
*/
(function(h){var z=function(){var b=document.createElement("input");b.setAttribute("onpaste","");return"function"===typeof b.onpaste?"paste":"input"}()+".mask",p=navigator.userAgent,A=/iphone/i.test(p),B=/android/i.test(p),y;h.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]","\u06f9":"[0123456789\u06f0\u06f1\u06f2\u06f3\u06f4\u06f5\u06f6\u06f7\u06f8\u06f9]"},dataName:"rawMaskFn",placeholder:"_"};h.fn.extend({caret:function(b,f){if(0!==this.length&&!this.is(":hidden")){if("number"==typeof b)return f=
"number"===typeof f?f:b,this.each(function(){this.setSelectionRange?this.setSelectionRange(b,f):this.createTextRange&&(g=this.createTextRange(),g.collapse(!0),g.moveEnd("character",f),g.moveStart("character",b),g.select())});if(this[0].setSelectionRange)b=this[0].selectionStart,f=this[0].selectionEnd;else if(document.selection&&document.selection.createRange){var g=document.selection.createRange();b=0-g.duplicate().moveStart("character",-1E5);f=b+g.text.length}return{begin:b,end:f}}},unmask:function(){return this.trigger("unmask")},
mask:function(b,f){var g;if(!b&&0<this.length){var p=h(this[0]);return p.data(h.mask.dataName)()}f=h.extend({placeholder:h.mask.placeholder,completed:null},f);var v=h.mask.definitions;var l=[];var q=g=b.length;var u=null;h.each(b.split(""),function(f,b){"?"==b?(g--,q=f):v[b]?(l.push(new RegExp(v[b])),null===u&&(u=l.length-1)):l.push(null)});return this.trigger("unmask").each(function(){function r(c){for(;++c<g&&!l[c];);return c}function p(c,k){var a;if(!(0>c)){var d=c;for(a=r(k);d<g;d++)if(l[d]){if(a<
g&&l[d].test(m[a]))m[d]=m[a],m[a]=f.placeholder;else break;a=r(a)}t();e.caret(Math.max(u,c))}}function C(c){var k=c.which;if(8===k||46===k||A&&127===k){var a=e.caret();var d=a.begin;a=a.end;if(0===a-d){if(46!==k)for(;0<=--d&&!l[d];);else d=a=r(d-1);a=46===k?r(a):a}w(d,a);p(d,a-1);c.preventDefault()}else 27==k&&(e.val(x),e.caret(0,n()),c.preventDefault())}function D(c){var k=c.which,a=e.caret();if(!(c.ctrlKey||c.altKey||c.metaKey||32>k)&&k){0!==a.end-a.begin&&(w(a.begin,a.end),p(a.begin,a.end-1));
a=r(a.begin-1);if(a<g&&(k=String.fromCharCode(k),l[a].test(k))){var d;var b=a;for(d=f.placeholder;b<g;b++)if(l[b]){var n=r(b);var q=m[b];m[b]=d;if(n<g&&l[n].test(q))d=q;else break}m[a]=k;t();a=r(a);B?setTimeout(h.proxy(h.fn.caret,e,a),0):e.caret(a);f.completed&&a>=g&&f.completed.call(e)}c.preventDefault()}}function w(c,b){var a;for(a=c;a<b&&a<g;a++)l[a]&&(m[a]=f.placeholder)}function t(){var c=m.join("");-1<b.indexOf("\u06f9")&&(c=convertNumbersToAdaptive(c,!1));e.val(c)}function n(c){var b=e.val(),
a=-1,d;for(pos=d=0;d<g;d++)if(l[d]){for(m[d]=f.placeholder;pos++<b.length;){var h=b.charAt(pos-1);if(l[d].test(h)){m[d]=h;a=d;break}}if(pos>b.length)break}else m[d]===b.charAt(pos)&&d!==q&&(pos++,a=d);c?t():a+1<q?(e.val(""),w(0,g)):(t(),e.val(e.val().substring(0,a+1)));return q?d:u}var e=h(this),m=h.map(b.split(""),function(c,b){if("?"!=c)return v[c]?f.placeholder:c}),x=e.val();e.data(h.mask.dataName,function(){return h.map(m,function(c,b){return l[b]&&c!=f.placeholder?c:null}).join("")});e.attr("readonly")||
e.one("unmask",function(){e.unbind(".mask").removeData(h.mask.dataName)}).bind("focus.mask",function(){clearTimeout(y);x=e.val();var c=n();y=setTimeout(function(){t();c==b.length?e.caret(0,c):e.caret(c)},10)}).bind("blur.mask",function(){n();e.val()!=x&&e.change()}).bind("keydown.mask",C).bind("keypress.mask",D).bind(z,function(){setTimeout(function(){var b=n(!0);e.caret(b);f.completed&&b==e.val().length&&f.completed.call(e)},0)});n()})}})})(jQuery);